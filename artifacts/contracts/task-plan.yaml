tasks:
  - id: backend-fix
    role: backend
    description: >
      Fix remaining issues in the Go REST API at artifacts/code/backend/.
      The code is mostly correct — only these changes are needed:

      1. Add go.mod file to artifacts/code/backend/:
           module taskapi
           go 1.22
         This is required for the code to compile. No external dependencies.

      2. In handlers.go, fix writeJSON to log encode errors instead of silently
         discarding them. Change:
           json.NewEncoder(w).Encode(v)
         To:
           if err := json.NewEncoder(w).Encode(v); err != nil {
               log.Printf("json encode error: %v", err)
           }
         Add "log" to the import block.

      Do NOT rewrite or restructure the existing code. These are two surgical fixes.
      All other code (store.go, main.go, remaining handlers.go) is correct as-is.

      Constraints: standard library only. Guard-clause style (early returns, no nested ifs).
    depends_on: []

  - id: frontend-app
    role: frontend
    description: >
      Create a minimal frontend in artifacts/code/frontend/ that consumes the Task API.

      Single file: index.html using React via CDN (no build tooling).

      Components (defined as function components inside a <script type="text/babel"> block):
        - App: top-level, holds tasks state via useState, fetches on mount via useEffect
        - TaskForm: controlled form with title + description inputs, calls POST /tasks
        - TaskList: renders a table of tasks with columns: title, status, actions
        - TaskItem: table row with status toggle (PUT /tasks/{id}) and delete button (DELETE /tasks/{id})

      API base URL: http://localhost:8080
      Use fetch() for all HTTP calls. Handle loading and error states with simple text.
      Status toggle cycles: todo -> in_progress -> done -> todo.
      After any mutation (create/update/delete), re-fetch the full task list.

      Keep it minimal — no CSS framework, no routing, no state library.
      Basic inline styles or a single <style> block for readability.
    depends_on: []
